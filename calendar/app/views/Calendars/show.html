#{extends 'main.html' /}
#{set title:calendar.name/}

<div id="main-left">
	<h2 class="title"><span id="calendar-name">${calendar.name}</span></h2>
	<div id="calendar-navigation">
			<span id="previous-month">
				#{a @Calendars.show(calendar.id, dt.minusMonths(1).getYear(), dt.minusMonths(1).getMonthOfYear(), dt.minusMonths(1).getDayOfMonth())}
				<< ${dt.minusMonths(1).monthOfYear().getAsText()}
				#{/a}
			</span>
			<span id="current-month">
				- ${dt.monthOfYear().getAsText()}, ${dt.getYear()} -
			</span>
			<span id="next-month">
				#{a @Calendars.show(calendar.id, dt.plusMonths(1).getYear(), dt.plusMonths(1).getMonthOfYear(), dt.plusMonths(1).getDayOfMonth())}
				${dt.plusMonths(1).monthOfYear().getAsText()} >>
				#{/a}
			</span>
	</div>
	
	#{calendar calendar:calendar, days:calendar.getDaysInMonth(dt), selected:dt, events:events, connectedUser:connectedUser, calendarOwner:calendarOwner /}
</div>

<div id="main-right">
	<h2 class="title">Options</h2>
	<div class="navigation">
	<ul>
		<li><a class="navigation" href="@{Calendars.index}">Go back</a></li>
		#{if connectedUser != null && connectedUser.equals(calendarOwner)}
		<li><a class="navigation" href="@{Events.add(calendar.id, dt.getYear(), dt.getMonthOfYear(), dt.getDayOfMonth())}">Add an event</a></li>
		#{/if}
	</ul>
	</div>
</div>