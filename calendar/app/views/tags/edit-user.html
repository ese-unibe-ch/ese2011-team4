<script type="text/javascript">
var monthtext=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sept','Oct','Nov','Dec'];

function date_populate(dayfield, monthfield, yearfield){
    var today=new Date();
    var dayfield=document.getElementById(dayfield)
    var monthfield=document.getElementById(monthfield)
    var yearfield=document.getElementById(yearfield)
    for (var i=0; i<31; i++)
        dayfield.options[i]=new Option(i+1, i+1)
    dayfield.options[today.getDate()]=new Option(today.getDate(), today.getDate(), true, true) //select today's day
    for (var m=0; m<12; m++)
        monthfield.options[m]=new Option(monthtext[m], monthtext[m])
    monthfield.options[today.getMonth()]=new Option(monthtext[today.getMonth()], monthtext[today.getMonth()], true, true) //select today's month
    var thisyear=today.getFullYear()
    for (var y=0; y<100; y++){
        yearfield.options[y]=new Option(thisyear, thisyear)
        thisyear-=1
    }
    yearfield.options[0]=new Option(today.getFullYear(), today.getFullYear(), true, true) //select today's year
}
</script>
<p>
#{field 'useremail'}
   	<label for="name">EmailAddress</label>
    <input type="text" name="${field.name}" id="email" value="#{ifErrors}${flash.name}#{/ifErrors}"/>
#{/field}
</p>
<p>
#{field 'name'}
   	<label for="name">Name</label>
    <input type="text" name="${field.name}" id="name" value="#{ifErrors}${flash.name}#{/ifErrors}"/>
#{/field}
</p>
<p class ="box">
<label>Search for:</label>
#{field 'gender'}
	<input type="radio" name="${field.name}" value="Male" checked="1">Male
	<input type="radio" name="${field.name}" value="Female">Female
#{/field}
<p>
#{field 'birthday'}
	<label for="name">BirthDay</label>
	  <SELECT id ="date" name = "dd"></SELECT>
      <SELECT id ="month" name = "mm"></SELECT>
      <SELECT id ="year" name = "yyyy"></SELECT>
	<script type="text/javascript">date_populate("date", "month", "year");</script>
#{/field}
</p>
<p>
#{field 'locationId'}
	<label for="locationId">Location</label>
	<select name="${field.name}" id="${field.name}"">
		#{list items:_locations, as:'location'}
			<option value="${location.id}" #{ifErrors}#{if flash.locationId.toString() == location.id.toString()}selected="selected"#{/if}#{/ifErrors}#{else}#{if _event?.location?.id == location.id}selected="selected"#{/if}#{/else}>${location.toString()}</option>
		#{/list}
	</select>
#{/field}
</p>
<p class="button">
	<input type="submit" value="Save" />
</p>